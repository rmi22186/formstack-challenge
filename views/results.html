<div class="row">
  <div class="col-md-9">
    <h3>Newsletter Phone Number Test</h3>
  </div>
  <div class="col-md-3">
    <h5>Reset Test</h5>
    <button id='start-button' class='btn btn-start btn-white-font' ng-click='flip()'>Start</button>
    <button id='pause-button' class='btn btn-green btn-white-font' ng-click='flip()'>Paused</button>
  </div>
</div>
<div class="row">
  <!-- START CHART -->
  <div class="col-md-9">
    <div class="no-data">No Data Yet! Please run a test by choosing dates on the right!</div>
    <canvas options="options" id="line" class="chart-line" data="data" labels="labels" backgroundColor='backgroundColor' legend="true" series="series"></canvas> 
  </div>
  <!-- END CHART -->

  <!-- START CALENDAR -->
  <div class="col-md-3" id="chart-height">
    <p>Scheduled For</p>

    <p class="input-group">
      <span class="input-group-btn" datepicker-popup ng-model="startDate" is-open="openedStartDate" datepicker-options="dateOptions" ng-required="true" close-text="Close">
        <button type="button" class="btn btn-default" ng-click="openStartDate($event)"><i class="glyphicon glyphicon-calendar"></i></button> 
      </span> 
      &nbsp; Start Date: {{startDate | date: 'mediumDate'}}
    </p>

    <p class="input-group">
      <span class="input-group-btn" datepicker-popup ng-model="endDate" is-open="openedEndDate" datepicker-options="dateOptions" ng-required="true" close-text="Close">
        <button type="button" class="btn btn-default" ng-click="openEndDate($event)"><i class="glyphicon glyphicon-calendar"></i></button>
      </span>
      &nbsp; End Date: {{endDate | date: 'mediumDate'}}
    </p>

    <button id="end-button" class='btn btn-end btn-white-font hidden' ng-click='open()'>End Test</button>
  </div>
  <!-- END CALENDAR -->
</div>

  <!-- START TABLE -->
<div class="row">
  <table class='table table-hover center'>
    <tr>
      <th>Variation</th>
      <th>Conversions / Visitors</th>
      <th>Conversion Rate</th>
      <th>Improvement</th>
    </tr>
    <tr>
      <td>Without Phone</td>
      <!-- show 0s for data when chart hasn't been loaded -->
      <td ng-if="chartLoaded===false">0/0</td>
      <td ng-if="chartLoaded===false">0%</td>
      <td ng-if="chartLoaded===false">0%</td>

      <td ng-if="chartLoaded===true">{{noPhoneConversionSum}}/{{noPhoneTotalsSum}}</td>
      <td ng-if="chartLoaded===true">{{noPhoneConversionSum/noPhoneTotalsSum | percent:2}}</td>
      <td></td>
    </tr>
    <tr>
      <td>With Phone</td>
      <div>
        <td ng-if="chartLoaded===false">0/0</td>
        <td ng-if="chartLoaded===false">0%</td>
        <td ng-if="chartLoaded===false">0%</td>
      </div>
      <div>
        <td ng-if="chartLoaded===true">{{phoneConversionSum}}/{{phoneTotalsSum}}</td>
        <td ng-if="chartLoaded===true">{{phoneConversionSum/phoneTotalsSum | percent:2}}</td>
        <td ng-if="chartLoaded===true">{{(phoneConversionSum/phoneTotalsSum - noPhoneConversionSum/noPhoneTotalsSum) | percent:2}}</td>
      </div>
    </tr>
  </table>
  <!-- END TABLE -->
</div>